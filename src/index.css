@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   1. 新增：赛博黑金风格核心工具类 (Design System)
   ========================================= */
@layer utilities {
  /* 高级暗色背景：深蓝灰向纯黑的渐变，带噪点质感 */
  .bg-cyber-gradient {
    background: 
      radial-gradient(circle at 50% 0%, rgba(30, 32, 40, 1) 0%, rgba(9, 9, 11, 1) 60%),
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
    background-blend-mode: overlay;
    background-color: #09090b; /* 兜底 */
  }

  /* 黄金微光效果 (用于卡片/按钮) */
  .glow-gold {
    box-shadow: 0 0 20px -5px rgba(234, 179, 8, 0.3);
  }

  /* 隐藏滚动条但保留功能 */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
}

/* =========================================
   2. 全局基础样式 (Base Setup)
   ========================================= */

/* 确保根元素透明，透出底下的 Canvas 或背景 */
#root {
  background-color: transparent;
  min-height: 100vh;
}

body {
  /* 使用 Tailwind 颜色变量，更柔和的黑 */
  @apply bg-zinc-950 text-zinc-100 antialiased;
  background-color: #09090b; 
  overflow-x: hidden;
}

/* =========================================
   3. 滚动条样式 (Scrollbars)
   ========================================= */

/* 自定义滚动条 (用于侧边栏或内容区域) */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: #18181b; 
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #3f3f46; 
  border-radius: 3px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #52525b; 
}

/* =========================================
   4. 背景与装饰特效 (Backgrounds & Effects)
   ========================================= */

/* 旧版赛博朋克网格背景 (保留以备用) */
.bg-grid-pattern {
  background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 40px 40px;
  mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
}

/* 卡片悬停时的流光边框效果 */
@keyframes border-flow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}
.animate-border-flow {
  background-size: 200% 200%;
  animation: border-flow 3s ease infinite;
}

/* 文字/按钮扫光特效 */
@keyframes shine {
  from { mask-position: 150%; -webkit-mask-position: 150%; }
  to { mask-position: -50%; -webkit-mask-position: -50%; }
}
.shimmer-effect {
  position: relative;
  overflow: hidden;
}
.shimmer-effect::after {
  content: '';
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  transform: skewX(-20deg);
  transform-origin: bottom left;
  animation: shine 3s infinite;
}

/* 呼吸光晕 (通用) */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 10px rgba(234, 179, 8, 0.2); }
  50% { box-shadow: 0 0 25px rgba(234, 179, 8, 0.6); }
}
.animate-pulse-glow {
  animation: pulse-glow 2s infinite;
}

/* =========================================
   5. 拆弹模式专用特效 (Operation Defuse Styles)
   ========================================= */

/* 红色警报呼吸 */
@keyframes alarm-pulse {
  0%, 100% { box-shadow: 0 0 20px rgba(220, 38, 38, 0.2); border-color: rgba(220, 38, 38, 0.5); }
  50% { box-shadow: 0 0 50px rgba(220, 38, 38, 0.8); border-color: rgba(220, 38, 38, 1); }
}
.animate-alarm {
  animation: alarm-pulse 1.5s infinite;
}

/* 疯狂抖动 (用于C4 Modal敲击战队名) */
@keyframes shake-hard {
  0% { transform: translate(1px, 1px) rotate(0deg); }
  10% { transform: translate(-1px, -2px) rotate(-1deg); }
  20% { transform: translate(-3px, 0px) rotate(1deg); }
  30% { transform: translate(3px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-1px, 2px) rotate(-1deg); }
  60% { transform: translate(-3px, 1px) rotate(0deg); }
  70% { transform: translate(3px, 1px) rotate(-1deg); }
  80% { transform: translate(-1px, -1px) rotate(1deg); }
  90% { transform: translate(1px, 2px) rotate(0deg); }
  100% { transform: translate(1px, -2px) rotate(-1deg); }
}
.animate-shake-hard {
  animation: shake-hard 0.5s;
}

/* 进度条加载 (Logo长按) */
.circular-chart {
  display: block;
  margin: 0 auto;
  max-width: 100%;
  max-height: 250px;
}
.circle-bg {
  fill: none;
  stroke: #eee;
  stroke-width: 3.8;
}
.circle {
  fill: none;
  stroke-width: 2.8;
  stroke-linecap: round;
  animation: progress 1s ease-out forwards;
}
@keyframes progress {
  0% { stroke-dasharray: 0 100; }
}

/* 故障文字效果 */
.glitch-text {
  text-shadow: 2px 0 #ff0000, -2px 0 #0000ff;
}